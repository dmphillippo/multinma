<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Set up individual patient data — set_ipd • multinma</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/paper/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Set up individual patient data — set_ipd" />
<meta property="og:description" content="Set up a network containing individual patient data (IPD). Multiple data
sources may be combined once created using combine_network()." />
<meta property="og:image" content="https://dmphillippo.github.io/multinma/logo.svg" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">multinma</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.1.3.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/vignette_overview.html">Overview of Examples</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Examples</li>
    <li>
      <a href="../articles/example_atrial_fibrillation.html">Example: Atrial fibrillation</a>
    </li>
    <li>
      <a href="../articles/example_bcg_vaccine.html">Example: BCG vaccine for tuberculosis</a>
    </li>
    <li>
      <a href="../articles/example_blocker.html">Example: Beta blockers</a>
    </li>
    <li>
      <a href="../articles/example_diabetes.html">Example: Diabetes</a>
    </li>
    <li>
      <a href="../articles/example_dietary_fat.html">Example: Dietary fat</a>
    </li>
    <li>
      <a href="../articles/example_hta_psoriasis.html">Example: Plaque psoriasis HTA report</a>
    </li>
    <li>
      <a href="../articles/example_parkinsons.html">Example: Parkinson's disease</a>
    </li>
    <li>
      <a href="../articles/example_plaque_psoriasis.html">Example: Plaque psoriasis ML-NMR</a>
    </li>
    <li>
      <a href="../articles/example_smoking.html">Example: Smoking cessation</a>
    </li>
    <li>
      <a href="../articles/example_statins.html">Example: Statins for cholesterol lowering</a>
    </li>
    <li>
      <a href="../articles/example_thrombolytics.html">Example: Thrombolytic treatments</a>
    </li>
    <li>
      <a href="../articles/example_transfusion.html">Example: White blood cell transfusion</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/dmphillippo/multinma/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Set up individual patient data</h1>
    <small class="dont-index">Source: <a href='https://github.com/dmphillippo/multinma/blob/master/R/nma_data.R'><code>R/nma_data.R</code></a></small>
    <div class="hidden name"><code>set_ipd.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Set up a network containing individual patient data (IPD). Multiple data
sources may be combined once created using <code><a href='combine_network.html'>combine_network()</a></code>.</p>
    </div>

    <pre class="usage"><span class='fu'>set_ipd</span><span class='op'>(</span>
  <span class='va'>data</span>,
  <span class='va'>study</span>,
  <span class='va'>trt</span>,
  y <span class='op'>=</span> <span class='cn'>NULL</span>,
  r <span class='op'>=</span> <span class='cn'>NULL</span>,
  E <span class='op'>=</span> <span class='cn'>NULL</span>,
  trt_ref <span class='op'>=</span> <span class='cn'>NULL</span>,
  trt_class <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>a data frame</p></td>
    </tr>
    <tr>
      <th>study</th>
      <td><p>column of <code>data</code> specifying the studies, coded using integers,
strings, or factors</p></td>
    </tr>
    <tr>
      <th>trt</th>
      <td><p>column of <code>data</code> specifying treatments, coded using integers,
strings, or factors</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>column of <code>data</code> specifying a continuous outcome</p></td>
    </tr>
    <tr>
      <th>r</th>
      <td><p>column of <code>data</code> specifying a binary outcome or Poisson outcome count</p></td>
    </tr>
    <tr>
      <th>E</th>
      <td><p>column of <code>data</code> specifying the total time at risk for Poisson
outcomes</p></td>
    </tr>
    <tr>
      <th>trt_ref</th>
      <td><p>reference treatment for the network, as a single integer,
string, or factor. If not specified, a reasonable well-connected default
will be chosen (see details).</p></td>
    </tr>
    <tr>
      <th>trt_class</th>
      <td><p>column of <code>data</code> specifying treatment classes, coded using
integers, strings, or factors. By default, no classes are specified.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <a href='nma_data-class.html'>nma_data</a></p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>By default, <code>trt_ref = NULL</code> and a network reference treatment will be chosen
that attempts to maximise computational efficiency and stability. If an
alternative reference treatment is chosen and the model runs slowly or has
low effective sample size (ESS) this may be the cause - try letting the
default reference treatment be used instead. Regardless of which treatment is
used as the network reference at the model fitting stage, results can be
transformed afterwards: see the <code>trt_ref</code> argument of
<code><a href='relative_effects.html'>relative_effects()</a></code> and <code><a href='predict.stan_nma.html'>predict.stan_nma()</a></code>.</p>
<p>All arguments specifying columns of <code>data</code> accept the following:</p><ul>
<li><p>A column name as a character string, e.g. <code>study = "studyc"</code></p></li>
<li><p>A bare column name, e.g. <code>study = studyc</code></p></li>
<li><p><code><a href='https://dplyr.tidyverse.org/reference/mutate.html'>dplyr::mutate()</a></code> style semantics for inline variable transformations, e.g. <code>study = paste(author, year)</code></p></li>
</ul>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='set_agd_arm.html'>set_agd_arm()</a></code> for arm-based aggregate data, <code><a href='set_agd_contrast.html'>set_agd_contrast()</a></code>
for contrast-based aggregate data, and <code><a href='combine_network.html'>combine_network()</a></code> for combining
several data sources in one network.</p>
<p><code><a href='print.nma_data.html'>print.nma_data()</a></code> for the print method displaying details of the
network, and <code><a href='plot.nma_data.html'>plot.nma_data()</a></code> for network plots.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Set up network of plaque psoriasis IPD</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>plaque_psoriasis_ipd</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   studyc      trtc_long    trtc trtn pasi75 pasi90 pasi100 age  bmi pasi_w0
#&gt; 1  IXORA Ixekizumab Q2W IXE_Q2W    2      1      1       1  62 38.6    15.8
#&gt; 2  IXORA Ixekizumab Q2W IXE_Q2W    2      1      1       0  38 23.2    28.2
#&gt; 3  IXORA Ixekizumab Q2W IXE_Q2W    2      1      1       0  54 27.5    13.2
#&gt; 4  IXORA Ixekizumab Q2W IXE_Q2W    2      1      1       1  44 24.6    41.0
#&gt; 5  IXORA Ixekizumab Q2W IXE_Q2W    2      1      1       0  44 28.3    15.2
#&gt; 6  IXORA Ixekizumab Q2W IXE_Q2W    2      1      1       1  57 23.6    30.4
#&gt;    male bsa weight durnpso prevsys   psa
#&gt; 1 FALSE  13  111.2       8    TRUE  TRUE
#&gt; 2 FALSE  37   62.0       1    TRUE FALSE
#&gt; 3  TRUE  13   83.5      38    TRUE FALSE
#&gt; 4 FALSE  67   66.0       1    TRUE FALSE
#&gt; 5 FALSE  10   92.7      23    TRUE FALSE
#&gt; 6 FALSE  75   73.5      21    TRUE FALSE</div><div class='input'>
<span class='va'>pso_net</span> <span class='op'>&lt;-</span> <span class='fu'>set_ipd</span><span class='op'>(</span><span class='va'>plaque_psoriasis_ipd</span>,
                   study <span class='op'>=</span> <span class='va'>studyc</span>,
                   trt <span class='op'>=</span> <span class='va'>trtc</span>,
                   r <span class='op'>=</span> <span class='va'>pasi75</span><span class='op'>)</span>

<span class='co'># Print network details</span>
<span class='va'>pso_net</span>
</div><div class='output co'>#&gt; A network with 4 IPD studies.
#&gt; 
#&gt; <span style='color: #555555;'>-------------------------------------------------------------------</span><span> </span><span style='font-weight: bold;'>IPD studies</span><span> </span><span style='color: #555555;'>----</span><span> 
#&gt;  Study     Treatments                      
#&gt;  IXORA     2: IXE_Q2W | UST                
#&gt;  UNCOVER-1 3: IXE_Q2W | IXE_Q4W | PBO      
#&gt;  UNCOVER-2 4: ETN | IXE_Q2W | IXE_Q4W | PBO
#&gt;  UNCOVER-3 4: ETN | IXE_Q2W | IXE_Q4W | PBO
#&gt; 
#&gt;  Outcome type: binary
#&gt; </span><span style='color: #555555;'>------------------------------------------------------------------------------------</span><span>
#&gt; Total number of treatments: 5
#&gt; Total number of studies: 4
#&gt; Reference treatment is: IXE_Q2W
#&gt; Network is </span><span style='color: #00BB00;'>connected</span><span></div><div class='input'>
<span class='co'># Plot network</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>pso_net</span><span class='op'>)</span>
</div><div class='img'><img src='set_ipd-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># Setting a different reference treatment</span>
<span class='fu'>set_ipd</span><span class='op'>(</span><span class='va'>plaque_psoriasis_ipd</span>,
        study <span class='op'>=</span> <span class='va'>studyc</span>,
        trt <span class='op'>=</span> <span class='va'>trtc</span>,
        r <span class='op'>=</span> <span class='va'>pasi75</span>,
        trt_ref <span class='op'>=</span> <span class='st'>"PBO"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; A network with 4 IPD studies.
#&gt; 
#&gt; </span><span style='color: #555555;'>-------------------------------------------------------------------</span><span> </span><span style='font-weight: bold;'>IPD studies</span><span> </span><span style='color: #555555;'>----</span><span> 
#&gt;  Study     Treatments                      
#&gt;  IXORA     2: IXE_Q2W | UST                
#&gt;  UNCOVER-1 3: IXE_Q2W | IXE_Q4W | PBO      
#&gt;  UNCOVER-2 4: ETN | IXE_Q2W | IXE_Q4W | PBO
#&gt;  UNCOVER-3 4: ETN | IXE_Q2W | IXE_Q4W | PBO
#&gt; 
#&gt;  Outcome type: binary
#&gt; </span><span style='color: #555555;'>------------------------------------------------------------------------------------</span><span>
#&gt; Total number of treatments: 5
#&gt; Total number of studies: 4
#&gt; Reference treatment is: PBO
#&gt; Network is </span><span style='color: #00BB00;'>connected</span><span></div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by David M. Phillippo.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


