<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="multinma">
<title>Example: Plaque psoriasis HTA report • multinma</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><link href="../deps/_Source%20Sans%20Pro-0.4.0/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Example: Plaque psoriasis HTA report">
<meta property="og:description" content="multinma">
<meta property="og:image" content="https://dmphillippo.github.io/multinma/logo.svg">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">multinma</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.3.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/vignette_overview.html">Overview of Examples</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Examples</h6>
    <a class="dropdown-item" href="../articles/example_atrial_fibrillation.html">Example: Atrial fibrillation</a>
    <a class="dropdown-item" href="../articles/example_bcg_vaccine.html">Example: BCG vaccine for tuberculosis</a>
    <a class="dropdown-item" href="../articles/example_blocker.html">Example: Beta blockers</a>
    <a class="dropdown-item" href="../articles/example_diabetes.html">Example: Diabetes</a>
    <a class="dropdown-item" href="../articles/example_dietary_fat.html">Example: Dietary fat</a>
    <a class="dropdown-item" href="../articles/example_hta_psoriasis.html">Example: Plaque psoriasis HTA report</a>
    <a class="dropdown-item" href="../articles/example_parkinsons.html">Example: Parkinson's disease</a>
    <a class="dropdown-item" href="../articles/example_plaque_psoriasis.html">Example: Plaque psoriasis ML-NMR</a>
    <a class="dropdown-item" href="../articles/example_smoking.html">Example: Smoking cessation</a>
    <a class="dropdown-item" href="../articles/example_statins.html">Example: Statins for cholesterol lowering</a>
    <a class="dropdown-item" href="../articles/example_thrombolytics.html">Example: Thrombolytic treatments</a>
    <a class="dropdown-item" href="../articles/example_transfusion.html">Example: White blood cell transfusion</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/dmphillippo/multinma/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">

<div class="row">
  <main id="main"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Example: Plaque psoriasis HTA report</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/dmphillippo/multinma/blob/HEAD/vignettes/example_hta_psoriasis.Rmd" class="external-link"><code>vignettes/example_hta_psoriasis.Rmd</code></a></small>
      <div class="d-none name"><code>example_hta_psoriasis.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dmphillippo.github.io/multinma/">multinma</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>mc.cores <span class="op">=</span> <span class="fu">parallel</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/parallel/detectCores.html" class="external-link">detectCores</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">#&gt; For execution on a local, multicore CPU with excess RAM we recommend calling</span>
<span class="co">#&gt; options(mc.cores = parallel::detectCores())</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'multinma'</span>
<span class="co">#&gt; The following objects are masked from 'package:stats':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     dgamma, pgamma, qgamma</span></code></pre>
<p>This vignette describes the analysis of treatments for moderate-to-severe plaque psoriasis from an HTA report <span class="citation">(<a href="#ref-Woolacott2006" role="doc-biblioref">Woolacott et al. 2006</a>)</span>, replicating the analysis in NICE Technical Support Document 2 <span class="citation">(<a href="#ref-TSD2" role="doc-biblioref">Dias et al. 2011</a>)</span>. The data are available in this package as <code>hta_psoriasis</code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">hta_psoriasis</span><span class="op">)</span>
<span class="co">#&gt;   studyn   studyc year trtn             trtc sample_size PASI50 PASI75 PASI90</span>
<span class="co">#&gt; 1      1  Elewski 2004    1  Supportive care         193     12      5      1</span>
<span class="co">#&gt; 2      1  Elewski 2004    2 Etanercept 25 mg         196     59     46     21</span>
<span class="co">#&gt; 3      1  Elewski 2004    3 Etanercept 50 mg         194     54     56     40</span>
<span class="co">#&gt; 4      2 Gottlieb 2003    1  Supportive care          55      5      1      0</span>
<span class="co">#&gt; 5      2 Gottlieb 2003    2 Etanercept 25 mg          57     23     11      6</span>
<span class="co">#&gt; 6      3  Lebwohl 2003    1  Supportive care         122     13      5      1</span></code></pre></div>
<p>Outcomes are ordered multinomial success/failure to achieve 50%, 75%, or 90% reduction in symptoms on the Psoriasis Area and Severity Index (PASI) scale. Some studies report ordered outcomes at all three cutpoints, others only one or two:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">hta_psoriasis</span>, <span class="va">studyc</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Elewski"</span>, <span class="st">"Gordon"</span>, <span class="st">"ACD2058g"</span>, <span class="st">"Altmeyer"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;   studyn   studyc year trtn             trtc sample_size PASI50 PASI75 PASI90</span>
<span class="co">#&gt; 1      1  Elewski 2004    1  Supportive care         193     12      5      1</span>
<span class="co">#&gt; 2      1  Elewski 2004    2 Etanercept 25 mg         196     59     46     21</span>
<span class="co">#&gt; 3      1  Elewski 2004    3 Etanercept 50 mg         194     54     56     40</span>
<span class="co">#&gt; 4      5   Gordon 2003    1  Supportive care         187     18      8     NA</span>
<span class="co">#&gt; 5      5   Gordon 2003    4       Efalizumab         369    118     98     NA</span>
<span class="co">#&gt; 6      6 ACD2058g 2004    1  Supportive care         170     25     NA     NA</span>
<span class="co">#&gt; 7      6 ACD2058g 2004    4       Efalizumab         162     99     NA     NA</span>
<span class="co">#&gt; 8     10 Altmeyer 1994    1  Supportive care          51     NA      1     NA</span>
<span class="co">#&gt; 9     10 Altmeyer 1994    6         Fumaderm          49     NA     12     NA</span></code></pre></div>
<p>Here, the outcome counts are given as “exclusive” counts. That is, for a study reporting all outcomes (e.g. Elewski), the counts represent the categories 50 &lt; PASI &lt; 75, 75 &lt; PASI &lt; 90, and 90 &lt; PASI &lt; 100, and the corresponding columns are named by the lower end of the interval.  Missing values are used where studies only report a subset of the outcomes. For a study reporting only two outcomes, say PASI50 and PASI75 as in Gordon, the counts represent the categories 50 &lt; PASI &lt; 75 and 75 &lt; PASI &lt; 100. For a study reporting only one outcome, say PASI70 as in Altmeyer, the count represents 70 &lt; PASI &lt; 100. We also need the count for the lowest category (i.e. no higher outcomes achieved), which is equal to the sample size minus the counts in the other observed categories.</p>
<div class="section level2">
<h2 id="setting-up-the-network">Setting up the network<a class="anchor" aria-label="anchor" href="#setting-up-the-network"></a>
</h2>
<p>We begin by setting up the network. We have arm-level ordered multinomial count data, so we use the function <code><a href="../reference/set_agd_arm.html">set_agd_arm()</a></code>. The function <code><a href="../reference/multi.html">multi()</a></code> helps us to specify the ordered outcomes correctly.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pso_net</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/set_agd_arm.html">set_agd_arm</a></span><span class="op">(</span><span class="va">hta_psoriasis</span>, 
                       study <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">studyc</span>, <span class="va">year</span><span class="op">)</span>, 
                       trt <span class="op">=</span> <span class="va">trtc</span>, 
                       r <span class="op">=</span> <span class="fu"><a href="../reference/multi.html">multi</a></span><span class="op">(</span>r0 <span class="op">=</span> <span class="va">sample_size</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">PASI50</span>, <span class="va">PASI75</span>, <span class="va">PASI90</span><span class="op">)</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, 
                                 <span class="va">PASI50</span>, <span class="va">PASI75</span>, <span class="va">PASI90</span>,
                                 inclusive <span class="op">=</span> <span class="cn">FALSE</span>, 
                                 type <span class="op">=</span> <span class="st">"ordered"</span><span class="op">)</span><span class="op">)</span>
<span class="va">pso_net</span>
<span class="co">#&gt; A network with 16 AgD studies (arm-based).</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #555555;">-------------------------------------------------------</span> <span style="font-weight: bold;">AgD studies (arm-based)</span> <span style="color: #555555;">----</span> </span>
<span class="co">#&gt;  Study         Treatments                                              </span>
<span class="co">#&gt;  ACD2058g 2004 2: Supportive care | Efalizumab                         </span>
<span class="co">#&gt;  ACD2600g 2004 2: Supportive care | Efalizumab                         </span>
<span class="co">#&gt;  Altmeyer 1994 2: Supportive care | Fumaderm                           </span>
<span class="co">#&gt;  Chaudari 2001 2: Supportive care | Infliximab                         </span>
<span class="co">#&gt;  Elewski 2004  3: Supportive care | Etanercept 25 mg | Etanercept 50 mg</span>
<span class="co">#&gt;  Ellis 1991    2: Supportive care | Ciclosporin                        </span>
<span class="co">#&gt;  Gordon 2003   2: Supportive care | Efalizumab                         </span>
<span class="co">#&gt;  Gottlieb 2003 2: Supportive care | Etanercept 25 mg                   </span>
<span class="co">#&gt;  Gottlieb 2004 2: Supportive care | Infliximab                         </span>
<span class="co">#&gt;  Guenther 1991 2: Supportive care | Ciclosporin                        </span>
<span class="co">#&gt; <span style="color: #555555;"> ... plus 6 more studies</span></span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  Outcome type: ordered (4 categories)</span>
<span class="co">#&gt; <span style="color: #555555;">------------------------------------------------------------------------------------</span></span>
<span class="co">#&gt; Total number of treatments: 8</span>
<span class="co">#&gt; Total number of studies: 16</span>
<span class="co">#&gt; Reference treatment is: Supportive care</span>
<span class="co">#&gt; Network is <span style="color: #00BB00;">connected</span></span></code></pre></div>
<p>Plot the network structure.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pso_net</span>, weight_edges <span class="op">=</span> <span class="cn">TRUE</span>, weight_nodes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span> 
  <span class="co"># Nudge the legend over</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.box.spacing <span class="op">=</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit</a></span><span class="op">(</span><span class="fl">0.75</span>, <span class="st">"in"</span><span class="op">)</span>,
                 plot.margin <span class="op">=</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">margin</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0</span>, <span class="fl">0.1</span>, <span class="fl">0.75</span>, <span class="st">"in"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="example_hta_psoriasis_files/figure-html/hta_psoriasis_network_plot-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="meta-analysis-models">Meta-analysis models<a class="anchor" aria-label="anchor" href="#meta-analysis-models"></a>
</h2>
<p>We fit both fixed effect (FE) and random effects (RE) models.</p>
<div class="section level3">
<h3 id="fixed-effect-meta-analysis">Fixed effect meta-analysis<a class="anchor" aria-label="anchor" href="#fixed-effect-meta-analysis"></a>
</h3>
<p>First, we fit a fixed effect model using the <code><a href="../reference/nma.html">nma()</a></code> function with <code>trt_effects = "fixed"</code>, using a probit link function <code>link = "probit"</code>. We use <span class="math inline">\(\mathrm{N}(0, 10^2)\)</span> prior distributions for the treatment effects <span class="math inline">\(d_k\)</span>, and <span class="math inline">\(\mathrm{N}(0, 100^2)\)</span> prior distributions for the study-specific intercepts <span class="math inline">\(\mu_j\)</span>. We can examine the range of parameter values implied by these prior distributions with the <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> method:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu"><a href="../reference/priors.html">normal</a></span><span class="op">(</span>scale <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; A Normal prior distribution: location = 0, scale = 10.</span>
<span class="co">#&gt; 50% of the prior density lies between -6.74 and 6.74.</span>
<span class="co">#&gt; 95% of the prior density lies between -19.6 and 19.6.</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu"><a href="../reference/priors.html">normal</a></span><span class="op">(</span>scale <span class="op">=</span> <span class="fl">100</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; A Normal prior distribution: location = 0, scale = 100.</span>
<span class="co">#&gt; 50% of the prior density lies between -67.45 and 67.45.</span>
<span class="co">#&gt; 95% of the prior density lies between -196 and 196.</span></code></pre></div>
<p>We also need to specify prior distributions for the latent cutpoints <span class="math inline">\(c_\textrm{PASI75}\)</span> and <span class="math inline">\(c_\textrm{PASI90}\)</span> on the underlying scale - here the PASI standardised mean difference due to the probit link (the cutpoint <span class="math inline">\(c_\textrm{PASI50}=0\)</span>). To make these easier to reason about, we actually specify priors on the <em>differences</em> between adjacent cutpoints, e.g. <span class="math inline">\(c_\textrm{PASI90} - c_\textrm{PASI75}\)</span> and <span class="math inline">\(c_\textrm{PASI75} - c_\textrm{PASI50}\)</span>. These can be given any positive-valued prior distribution, and Stan will automatically impose the necessary ordering constraints behind the scenes. We choose to give these implicit flat priors <code><a href="../reference/priors.html">flat()</a></code>. </p>
<p>The model is fitted using the <code><a href="../reference/nma.html">nma()</a></code> function.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pso_fit_FE</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/nma.html">nma</a></span><span class="op">(</span><span class="va">pso_net</span>, 
                  trt_effects <span class="op">=</span> <span class="st">"fixed"</span>,
                  link <span class="op">=</span> <span class="st">"probit"</span>,
                  prior_intercept <span class="op">=</span> <span class="fu"><a href="../reference/priors.html">normal</a></span><span class="op">(</span>scale <span class="op">=</span> <span class="fl">100</span><span class="op">)</span>,
                  prior_trt <span class="op">=</span> <span class="fu"><a href="../reference/priors.html">normal</a></span><span class="op">(</span>scale <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,
                  prior_aux <span class="op">=</span> <span class="fu"><a href="../reference/priors.html">flat</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Note: Setting "Supportive care" as the network reference treatment.</span></code></pre></div>
<p>Basic parameter summaries are given by the <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pso_fit_FE</span>
<span class="co">#&gt; A fixed effects NMA with a ordered likelihood (probit link).</span>
<span class="co">#&gt; Inference for Stan model: ordered_multinomial.</span>
<span class="co">#&gt; 4 chains, each with iter=2000; warmup=1000; thin=1; </span>
<span class="co">#&gt; post-warmup draws per chain=1000, total post-warmup draws=4000.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;                         mean se_mean   sd     2.5%      25%      50%      75%    97.5% n_eff</span>
<span class="co">#&gt; d[Ciclosporin]          1.91    0.01 0.33     1.30     1.68     1.89     2.13     2.59  1579</span>
<span class="co">#&gt; d[Efalizumab]           1.19    0.00 0.06     1.08     1.15     1.19     1.23     1.30  1980</span>
<span class="co">#&gt; d[Etanercept 25 mg]     1.51    0.00 0.10     1.33     1.45     1.51     1.58     1.70  2200</span>
<span class="co">#&gt; d[Etanercept 50 mg]     1.92    0.00 0.10     1.73     1.86     1.92     1.99     2.11  2342</span>
<span class="co">#&gt; d[Fumaderm]             1.49    0.01 0.47     0.63     1.16     1.46     1.78     2.53  2994</span>
<span class="co">#&gt; d[Infliximab]           2.33    0.01 0.27     1.81     2.15     2.32     2.51     2.89  2942</span>
<span class="co">#&gt; d[Methotrexate]         1.60    0.01 0.44     0.77     1.29     1.59     1.89     2.48  1881</span>
<span class="co">#&gt; lp__                -3405.09    0.09 3.57 -3413.14 -3407.26 -3404.72 -3402.49 -3399.18  1436</span>
<span class="co">#&gt; cc[PASI50]              0.00     NaN 0.00     0.00     0.00     0.00     0.00     0.00   NaN</span>
<span class="co">#&gt; cc[PASI75]              0.76    0.00 0.03     0.70     0.74     0.76     0.78     0.82  5436</span>
<span class="co">#&gt; cc[PASI90]              1.57    0.00 0.05     1.47     1.53     1.57     1.60     1.67  5368</span>
<span class="co">#&gt;                     Rhat</span>
<span class="co">#&gt; d[Ciclosporin]         1</span>
<span class="co">#&gt; d[Efalizumab]          1</span>
<span class="co">#&gt; d[Etanercept 25 mg]    1</span>
<span class="co">#&gt; d[Etanercept 50 mg]    1</span>
<span class="co">#&gt; d[Fumaderm]            1</span>
<span class="co">#&gt; d[Infliximab]          1</span>
<span class="co">#&gt; d[Methotrexate]        1</span>
<span class="co">#&gt; lp__                   1</span>
<span class="co">#&gt; cc[PASI50]           NaN</span>
<span class="co">#&gt; cc[PASI75]             1</span>
<span class="co">#&gt; cc[PASI90]             1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Samples were drawn using NUTS(diag_e) at Fri Jan  7 20:45:46 2022.</span>
<span class="co">#&gt; For each parameter, n_eff is a crude measure of effective sample size,</span>
<span class="co">#&gt; and Rhat is the potential scale reduction factor on split chains (at </span>
<span class="co">#&gt; convergence, Rhat=1).</span></code></pre></div>
<blockquote>
<p><strong>Note:</strong> the treatment effects are the <em>opposite sign</em> to those in TSD 2 <span class="citation">(<a href="#ref-TSD2" role="doc-biblioref">Dias et al. 2011</a>)</span>. This is because we parameterise the linear predictor as <span class="math inline">\(\mu_j + d_k + c_m\)</span>, rather than <span class="math inline">\(\mu_j + d_k - c_m\)</span>. The interpretation here thus follows that of a standard binomial probit (or logit) regression; SMDs (or log ORs) greater than zero mean that the treatment increases the probability of an event compared to the comparator (and less than zero mean a reduction in probability). Here higher outcomes are positive, and all of the active treatments are estimated to increase the response (i.e. a greater reduction) on the PASI scale compared to the network reference (supportive care).</p>
</blockquote>
<p>By default, summaries of the study-specific intercepts <span class="math inline">\(\mu_j\)</span> are hidden, but could be examined by changing the <code>pars</code> argument:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Not run</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">pso_fit_FE</span>, pars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"d"</span>, <span class="st">"mu"</span>, <span class="st">"cc"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>The prior and posterior distributions can be compared visually using the <code><a href="../reference/plot_prior_posterior.html">plot_prior_posterior()</a></code> function:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plot_prior_posterior.html">plot_prior_posterior</a></span><span class="op">(</span><span class="va">pso_fit_FE</span><span class="op">)</span></code></pre></div>
<p><img src="example_hta_psoriasis_files/figure-html/pso_FE_pp_plot-1.png" width="700" style="display: block; margin: auto;"></p>
<p>Focusing specifically on the cutpoints we see that these are highly identified by the data, which is why the implicit flat priors work for these parameters.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plot_prior_posterior.html">plot_prior_posterior</a></span><span class="op">(</span><span class="va">pso_fit_FE</span>, prior <span class="op">=</span> <span class="st">"aux"</span><span class="op">)</span></code></pre></div>
<p><img src="example_hta_psoriasis_files/figure-html/pso_FE_pp_cutpoint_plot-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="random-effects-meta-analysis">Random effects meta-analysis<a class="anchor" aria-label="anchor" href="#random-effects-meta-analysis"></a>
</h3>
<p>We now fit a random effects model using the <code><a href="../reference/nma.html">nma()</a></code> function with <code>trt_effects = "random"</code>. Again, we use <span class="math inline">\(\mathrm{N}(0, 10^2)\)</span> prior distributions for the treatment effects <span class="math inline">\(d_k\)</span>, <span class="math inline">\(\mathrm{N}(0, 100^2)\)</span> prior distributions for the study-specific intercepts <span class="math inline">\(\mu_j\)</span>, implicit flat prior distributions for the latent cutpoints, and we additionally use a <span class="math inline">\(\textrm{half-N}(2.5^2)\)</span> prior for the heterogeneity standard deviation <span class="math inline">\(\tau\)</span>. We can examine the range of parameter values implied by these prior distributions with the <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> method:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu"><a href="../reference/priors.html">normal</a></span><span class="op">(</span>scale <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; A Normal prior distribution: location = 0, scale = 10.</span>
<span class="co">#&gt; 50% of the prior density lies between -6.74 and 6.74.</span>
<span class="co">#&gt; 95% of the prior density lies between -19.6 and 19.6.</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu"><a href="../reference/priors.html">normal</a></span><span class="op">(</span>scale <span class="op">=</span> <span class="fl">100</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; A Normal prior distribution: location = 0, scale = 100.</span>
<span class="co">#&gt; 50% of the prior density lies between -67.45 and 67.45.</span>
<span class="co">#&gt; 95% of the prior density lies between -196 and 196.</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu"><a href="../reference/priors.html">half_normal</a></span><span class="op">(</span>scale <span class="op">=</span> <span class="fl">2.5</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; A half-Normal prior distribution: location = 0, scale = 2.5.</span>
<span class="co">#&gt; 50% of the prior density lies between 0 and 1.69.</span>
<span class="co">#&gt; 95% of the prior density lies between 0 and 4.9.</span></code></pre></div>
<p>Fitting the RE model</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pso_fit_RE</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/nma.html">nma</a></span><span class="op">(</span><span class="va">pso_net</span>, 
                  trt_effects <span class="op">=</span> <span class="st">"random"</span>,
                  link <span class="op">=</span> <span class="st">"probit"</span>,
                  prior_intercept <span class="op">=</span> <span class="fu"><a href="../reference/priors.html">normal</a></span><span class="op">(</span>scale <span class="op">=</span> <span class="fl">100</span><span class="op">)</span>,
                  prior_trt <span class="op">=</span> <span class="fu"><a href="../reference/priors.html">normal</a></span><span class="op">(</span>scale <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,
                  prior_aux <span class="op">=</span> <span class="fu"><a href="../reference/priors.html">flat</a></span><span class="op">(</span><span class="op">)</span>,
                  prior_het <span class="op">=</span> <span class="fu"><a href="../reference/priors.html">half_normal</a></span><span class="op">(</span>scale <span class="op">=</span> <span class="fl">2.5</span><span class="op">)</span>,
                  adapt_delta <span class="op">=</span> <span class="fl">0.99</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">#&gt; Note: Setting "Supportive care" as the network reference treatment.</span></code></pre>
<p>Basic parameter summaries are given by the <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pso_fit_RE</span>
<span class="co">#&gt; A random effects NMA with a ordered likelihood (probit link).</span>
<span class="co">#&gt; Inference for Stan model: ordered_multinomial.</span>
<span class="co">#&gt; 4 chains, each with iter=5000; warmup=2500; thin=1; </span>
<span class="co">#&gt; post-warmup draws per chain=2500, total post-warmup draws=10000.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;                         mean se_mean   sd     2.5%      25%      50%      75%    97.5% n_eff</span>
<span class="co">#&gt; d[Ciclosporin]          2.03    0.01 0.42     1.31     1.74     1.99     2.27     2.94  2672</span>
<span class="co">#&gt; d[Efalizumab]           1.18    0.00 0.17     0.82     1.10     1.18     1.27     1.54  4500</span>
<span class="co">#&gt; d[Etanercept 25 mg]     1.53    0.00 0.23     1.06     1.41     1.52     1.65     2.01  5917</span>
<span class="co">#&gt; d[Etanercept 50 mg]     1.92    0.00 0.26     1.38     1.79     1.92     2.05     2.46  5119</span>
<span class="co">#&gt; d[Fumaderm]             1.50    0.01 0.63     0.33     1.09     1.47     1.87     2.84  7242</span>
<span class="co">#&gt; d[Infliximab]           2.32    0.00 0.37     1.57     2.09     2.32     2.55     3.05  8076</span>
<span class="co">#&gt; d[Methotrexate]         1.73    0.01 0.62     0.61     1.32     1.69     2.09     3.05  3881</span>
<span class="co">#&gt; lp__                -3410.76    0.19 6.70 -3424.07 -3415.27 -3410.63 -3406.07 -3398.24  1279</span>
<span class="co">#&gt; tau                     0.30    0.01 0.21     0.02     0.14     0.25     0.41     0.81   943</span>
<span class="co">#&gt; cc[PASI50]              0.00     NaN 0.00     0.00     0.00     0.00     0.00     0.00   NaN</span>
<span class="co">#&gt; cc[PASI75]              0.76    0.00 0.03     0.70     0.73     0.76     0.78     0.82 15230</span>
<span class="co">#&gt; cc[PASI90]              1.56    0.00 0.05     1.46     1.53     1.56     1.60     1.67 18919</span>
<span class="co">#&gt;                     Rhat</span>
<span class="co">#&gt; d[Ciclosporin]      1.00</span>
<span class="co">#&gt; d[Efalizumab]       1.00</span>
<span class="co">#&gt; d[Etanercept 25 mg] 1.00</span>
<span class="co">#&gt; d[Etanercept 50 mg] 1.00</span>
<span class="co">#&gt; d[Fumaderm]         1.00</span>
<span class="co">#&gt; d[Infliximab]       1.00</span>
<span class="co">#&gt; d[Methotrexate]     1.00</span>
<span class="co">#&gt; lp__                1.00</span>
<span class="co">#&gt; tau                 1.01</span>
<span class="co">#&gt; cc[PASI50]           NaN</span>
<span class="co">#&gt; cc[PASI75]          1.00</span>
<span class="co">#&gt; cc[PASI90]          1.00</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Samples were drawn using NUTS(diag_e) at Fri Jan  7 20:47:42 2022.</span>
<span class="co">#&gt; For each parameter, n_eff is a crude measure of effective sample size,</span>
<span class="co">#&gt; and Rhat is the potential scale reduction factor on split chains (at </span>
<span class="co">#&gt; convergence, Rhat=1).</span></code></pre></div>
<p>By default, summaries of the study-specific intercepts <span class="math inline">\(\mu_j\)</span> and study-specific relative effects <span class="math inline">\(\delta_{jk}\)</span> are hidden, but could be examined by changing the <code>pars</code> argument:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Not run</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">pso_fit_RE</span>, pars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"d"</span>, <span class="st">"cc"</span>, <span class="st">"mu"</span>, <span class="st">"delta"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>The prior and posterior distributions can be compared visually using the <code><a href="../reference/plot_prior_posterior.html">plot_prior_posterior()</a></code> function:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plot_prior_posterior.html">plot_prior_posterior</a></span><span class="op">(</span><span class="va">pso_fit_RE</span>, prior <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"trt"</span>, <span class="st">"aux"</span>, <span class="st">"het"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="example_hta_psoriasis_files/figure-html/pso_RE_pp_plot-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="model-comparison">Model comparison<a class="anchor" aria-label="anchor" href="#model-comparison"></a>
</h3>
<p>Model fit can be checked using the <code><a href="../reference/dic.html">dic()</a></code> function:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">dic_FE</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dic.html">dic</a></span><span class="op">(</span><span class="va">pso_fit_FE</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Residual deviance: 74.8<span style="color: #555555;"> (on 58 data points)</span></span>
<span class="co">#&gt;                pD: 25.3</span>
<span class="co">#&gt;               DIC: 100.1</span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">dic_RE</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dic.html">dic</a></span><span class="op">(</span><span class="va">pso_fit_RE</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Residual deviance: 63.1<span style="color: #555555;"> (on 58 data points)</span></span>
<span class="co">#&gt;                pD: 33.1</span>
<span class="co">#&gt;               DIC: 96.2</span></code></pre></div>
<p>The random effects model has a lower DIC and the residual deviance is closer to the number of data points, so is preferred in this case.</p>
<p>We can also examine the residual deviance contributions with the corresponding <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> method.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">dic_FE</span><span class="op">)</span></code></pre></div>
<p><img src="example_hta_psoriasis_files/figure-html/pso_FE_resdev_plot-1.png" width="700" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">dic_RE</span><span class="op">)</span></code></pre></div>
<p><img src="example_hta_psoriasis_files/figure-html/pso_RE_resdev_plot-1.png" width="700" style="display: block; margin: auto;"></p>
<p>Most data points are fit well, with posterior mean residual deviances close to the degrees of freedom. The Meffert 1997 study has a substantially higher residual deviance contribution, which could be investigated further to see why this study appears to be an outlier.</p>
</div>
</div>
<div class="section level2">
<h2 id="further-results">Further results<a class="anchor" aria-label="anchor" href="#further-results"></a>
</h2>
<div class="section level3">
<h3 id="predicted-probabilities-of-response">Predicted probabilities of response<a class="anchor" aria-label="anchor" href="#predicted-probabilities-of-response"></a>
</h3>
<p><span class="citation">Dias et al. (<a href="#ref-TSD2" role="doc-biblioref">2011</a>)</span> produce absolute predictions of probability of achieving responses at each PASI cutoff, assuming a Normal distribution for the baseline probit probability of PASI50 response on supportive care with mean <span class="math inline">\(-1.097\)</span> and precision <span class="math inline">\(123\)</span>. We can replicate these results using the <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> method. The <code>baseline</code> argument takes a <code><a href="../reference/distr.html">distr()</a></code> distribution object, with which we specify the corresponding Normal distribution. We set <code>type = "response"</code> to produce predicted probabilities (<code>type = "link"</code> would produce predicted probit probabilities).</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pred_FE</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">pso_fit_FE</span>, 
                   baseline <span class="op">=</span> <span class="fu"><a href="../reference/distr.html">distr</a></span><span class="op">(</span><span class="va">qnorm</span>, mean <span class="op">=</span> <span class="op">-</span><span class="fl">1.097</span>, sd <span class="op">=</span> <span class="fl">123</span><span class="op">^</span><span class="op">-</span><span class="fl">0.5</span><span class="op">)</span>, 
                   type <span class="op">=</span> <span class="st">"response"</span><span class="op">)</span>
<span class="va">pred_FE</span>
<span class="co">#&gt;                                mean   sd 2.5%  25%  50%  75% 97.5% Bulk_ESS Tail_ESS Rhat</span>
<span class="co">#&gt; pred[Supportive care, PASI50]  0.14 0.02 0.10 0.12 0.14 0.15  0.18     3675     3431    1</span>
<span class="co">#&gt; pred[Supportive care, PASI75]  0.03 0.01 0.02 0.03 0.03 0.04  0.05     3738     3678    1</span>
<span class="co">#&gt; pred[Supportive care, PASI90]  0.00 0.00 0.00 0.00 0.00 0.00  0.01     4137     3522    1</span>
<span class="co">#&gt; pred[Ciclosporin, PASI50]      0.78 0.10 0.57 0.72 0.79 0.85  0.94     1696     2272    1</span>
<span class="co">#&gt; pred[Ciclosporin, PASI75]      0.52 0.13 0.28 0.43 0.51 0.61  0.78     1702     2259    1</span>
<span class="co">#&gt; pred[Ciclosporin, PASI90]      0.24 0.11 0.08 0.16 0.22 0.30  0.49     1745     2409    1</span>
<span class="co">#&gt; pred[Efalizumab, PASI50]       0.54 0.04 0.46 0.51 0.54 0.56  0.62     3059     3514    1</span>
<span class="co">#&gt; pred[Efalizumab, PASI75]       0.25 0.04 0.19 0.23 0.25 0.28  0.33     3097     3296    1</span>
<span class="co">#&gt; pred[Efalizumab, PASI90]       0.07 0.02 0.04 0.06 0.07 0.08  0.11     3430     3754    1</span>
<span class="co">#&gt; pred[Etanercept 25 mg, PASI50] 0.66 0.05 0.56 0.63 0.66 0.69  0.75     2663     2683    1</span>
<span class="co">#&gt; pred[Etanercept 25 mg, PASI75] 0.37 0.05 0.27 0.33 0.37 0.40  0.47     2636     3004    1</span>
<span class="co">#&gt; pred[Etanercept 25 mg, PASI90] 0.13 0.03 0.08 0.11 0.12 0.15  0.19     2807     2853    1</span>
<span class="co">#&gt; pred[Etanercept 50 mg, PASI50] 0.79 0.04 0.71 0.77 0.79 0.82  0.86     2703     3549    1</span>
<span class="co">#&gt; pred[Etanercept 50 mg, PASI75] 0.53 0.05 0.42 0.49 0.53 0.56  0.63     2724     3419    1</span>
<span class="co">#&gt; pred[Etanercept 50 mg, PASI90] 0.23 0.04 0.15 0.20 0.23 0.26  0.32     2882     3480    1</span>
<span class="co">#&gt; pred[Fumaderm, PASI50]         0.64 0.16 0.32 0.52 0.64 0.75  0.93     3398     2351    1</span>
<span class="co">#&gt; pred[Fumaderm, PASI75]         0.37 0.17 0.11 0.24 0.35 0.47  0.76     3370     2299    1</span>
<span class="co">#&gt; pred[Fumaderm, PASI90]         0.15 0.11 0.02 0.06 0.12 0.19  0.45     3346     2171    1</span>
<span class="co">#&gt; pred[Infliximab, PASI50]       0.88 0.05 0.75 0.85 0.89 0.92  0.97     3096     2759    1</span>
<span class="co">#&gt; pred[Infliximab, PASI75]       0.68 0.10 0.47 0.61 0.68 0.75  0.86     3064     2782    1</span>
<span class="co">#&gt; pred[Infliximab, PASI90]       0.37 0.11 0.19 0.30 0.37 0.45  0.60     3113     2711    1</span>
<span class="co">#&gt; pred[Methotrexate, PASI50]     0.68 0.15 0.37 0.57 0.69 0.79  0.92     1966     2516    1</span>
<span class="co">#&gt; pred[Methotrexate, PASI75]     0.41 0.16 0.13 0.28 0.39 0.52  0.74     1971     2655    1</span>
<span class="co">#&gt; pred[Methotrexate, PASI90]     0.17 0.11 0.03 0.08 0.14 0.22  0.44     2021     2498    1</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pred_FE</span><span class="op">)</span></code></pre></div>
<p><img src="example_hta_psoriasis_files/figure-html/pso_pred_FE-1.png" width="700" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pred_RE</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">pso_fit_RE</span>, 
                   baseline <span class="op">=</span> <span class="fu"><a href="../reference/distr.html">distr</a></span><span class="op">(</span><span class="va">qnorm</span>, mean <span class="op">=</span> <span class="op">-</span><span class="fl">1.097</span>, sd <span class="op">=</span> <span class="fl">123</span><span class="op">^</span><span class="op">-</span><span class="fl">0.5</span><span class="op">)</span>, 
                   type <span class="op">=</span> <span class="st">"response"</span><span class="op">)</span>
<span class="va">pred_RE</span>
<span class="co">#&gt;                                mean   sd 2.5%  25%  50%  75% 97.5% Bulk_ESS Tail_ESS Rhat</span>
<span class="co">#&gt; pred[Supportive care, PASI50]  0.14 0.02 0.10 0.12 0.14 0.15  0.18     9814     9874    1</span>
<span class="co">#&gt; pred[Supportive care, PASI75]  0.03 0.01 0.02 0.03 0.03 0.04  0.05    10484    10015    1</span>
<span class="co">#&gt; pred[Supportive care, PASI90]  0.00 0.00 0.00 0.00 0.00 0.00  0.01    11430     9746    1</span>
<span class="co">#&gt; pred[Ciclosporin, PASI50]      0.80 0.10 0.58 0.74 0.81 0.88  0.97     3386     2892    1</span>
<span class="co">#&gt; pred[Ciclosporin, PASI75]      0.56 0.15 0.28 0.45 0.55 0.66  0.86     3412     3001    1</span>
<span class="co">#&gt; pred[Ciclosporin, PASI90]      0.28 0.14 0.08 0.18 0.25 0.35  0.61     3469     2923    1</span>
<span class="co">#&gt; pred[Efalizumab, PASI50]       0.53 0.07 0.37 0.49 0.54 0.58  0.68     5710     4100    1</span>
<span class="co">#&gt; pred[Efalizumab, PASI75]       0.26 0.06 0.14 0.22 0.25 0.29  0.39     5788     4333    1</span>
<span class="co">#&gt; pred[Efalizumab, PASI90]       0.07 0.03 0.03 0.06 0.07 0.09  0.14     5952     4331    1</span>
<span class="co">#&gt; pred[Etanercept 25 mg, PASI50] 0.66 0.09 0.47 0.61 0.66 0.71  0.83     6475     4654    1</span>
<span class="co">#&gt; pred[Etanercept 25 mg, PASI75] 0.38 0.09 0.20 0.32 0.37 0.43  0.57     6498     4446    1</span>
<span class="co">#&gt; pred[Etanercept 25 mg, PASI90] 0.14 0.06 0.05 0.10 0.13 0.16  0.27     6658     4723    1</span>
<span class="co">#&gt; pred[Etanercept 50 mg, PASI50] 0.79 0.08 0.61 0.75 0.80 0.83  0.92     5900     4257    1</span>
<span class="co">#&gt; pred[Etanercept 50 mg, PASI75] 0.53 0.10 0.31 0.47 0.53 0.59  0.73     5940     4312    1</span>
<span class="co">#&gt; pred[Etanercept 50 mg, PASI90] 0.24 0.08 0.10 0.19 0.23 0.28  0.43     6028     4258    1</span>
<span class="co">#&gt; pred[Fumaderm, PASI50]         0.63 0.20 0.22 0.49 0.64 0.78  0.96     7641     4986    1</span>
<span class="co">#&gt; pred[Fumaderm, PASI75]         0.38 0.21 0.06 0.22 0.35 0.51  0.84     7659     5322    1</span>
<span class="co">#&gt; pred[Fumaderm, PASI90]         0.16 0.15 0.01 0.06 0.12 0.22  0.58     7673     5391    1</span>
<span class="co">#&gt; pred[Infliximab, PASI50]       0.87 0.08 0.67 0.84 0.89 0.93  0.97     8175     5771    1</span>
<span class="co">#&gt; pred[Infliximab, PASI75]       0.67 0.13 0.38 0.59 0.68 0.76  0.88     8182     5654    1</span>
<span class="co">#&gt; pred[Infliximab, PASI90]       0.37 0.13 0.13 0.28 0.37 0.46  0.65     8230     5798    1</span>
<span class="co">#&gt; pred[Methotrexate, PASI50]     0.70 0.18 0.31 0.59 0.73 0.84  0.98     4582     2947    1</span>
<span class="co">#&gt; pred[Methotrexate, PASI75]     0.45 0.21 0.11 0.30 0.44 0.60  0.88     4594     2975    1</span>
<span class="co">#&gt; pred[Methotrexate, PASI90]     0.21 0.17 0.02 0.09 0.17 0.29  0.66     4606     2985    1</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pred_RE</span><span class="op">)</span></code></pre></div>
<p><img src="example_hta_psoriasis_files/figure-html/pso_pred_RE-1.png" width="700" style="display: block; margin: auto;"></p>
<p>If instead of information on the baseline PASI 50 response probit probability we have PASI 50 event counts, we can use these to construct a Beta distribution for the baseline probability of PASI 50 response. For example, if 56 out of 408 individuals achieved PASI 50 response on supportive care in the target population of interest, the appropriate Beta distribution for the response probability would be <span class="math inline">\(\textrm{Beta}(56, 408-56)\)</span>. We can specify this Beta distribution for the baseline response using the <code>baseline_type = "reponse"</code> argument (the default is <code>"link"</code>, used above for the baseline probit probability).</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pred_FE_beta</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">pso_fit_FE</span>, 
                        baseline <span class="op">=</span> <span class="fu"><a href="../reference/distr.html">distr</a></span><span class="op">(</span><span class="va">qbeta</span>, <span class="fl">56</span>, <span class="fl">408</span><span class="op">-</span><span class="fl">56</span><span class="op">)</span>,
                        baseline_type <span class="op">=</span> <span class="st">"response"</span>,
                        type <span class="op">=</span> <span class="st">"response"</span><span class="op">)</span>
<span class="va">pred_FE_beta</span>
<span class="co">#&gt;                                mean   sd 2.5%  25%  50%  75% 97.5% Bulk_ESS Tail_ESS Rhat</span>
<span class="co">#&gt; pred[Supportive care, PASI50]  0.14 0.02 0.10 0.12 0.14 0.15  0.17     3931     4032    1</span>
<span class="co">#&gt; pred[Supportive care, PASI75]  0.03 0.01 0.02 0.03 0.03 0.04  0.05     4198     3792    1</span>
<span class="co">#&gt; pred[Supportive care, PASI90]  0.00 0.00 0.00 0.00 0.00 0.00  0.01     4671     3807    1</span>
<span class="co">#&gt; pred[Ciclosporin, PASI50]      0.78 0.10 0.57 0.72 0.79 0.85  0.94     1704     2184    1</span>
<span class="co">#&gt; pred[Ciclosporin, PASI75]      0.52 0.13 0.28 0.43 0.52 0.61  0.78     1712     2263    1</span>
<span class="co">#&gt; pred[Ciclosporin, PASI90]      0.24 0.10 0.08 0.16 0.22 0.30  0.49     1760     2251    1</span>
<span class="co">#&gt; pred[Efalizumab, PASI50]       0.54 0.04 0.46 0.51 0.54 0.56  0.61     3274     3654    1</span>
<span class="co">#&gt; pred[Efalizumab, PASI75]       0.25 0.03 0.19 0.23 0.25 0.27  0.32     3388     3803    1</span>
<span class="co">#&gt; pred[Efalizumab, PASI90]       0.07 0.01 0.04 0.06 0.07 0.08  0.10     3749     3804    1</span>
<span class="co">#&gt; pred[Etanercept 25 mg, PASI50] 0.66 0.05 0.57 0.63 0.66 0.69  0.74     2552     3027    1</span>
<span class="co">#&gt; pred[Etanercept 25 mg, PASI75] 0.37 0.05 0.28 0.34 0.37 0.40  0.46     2553     3037    1</span>
<span class="co">#&gt; pred[Etanercept 25 mg, PASI90] 0.13 0.03 0.08 0.11 0.12 0.14  0.19     2729     3415    1</span>
<span class="co">#&gt; pred[Etanercept 50 mg, PASI50] 0.79 0.04 0.72 0.77 0.79 0.82  0.86     2692     3181    1</span>
<span class="co">#&gt; pred[Etanercept 50 mg, PASI75] 0.53 0.05 0.43 0.49 0.53 0.56  0.62     2711     3260    1</span>
<span class="co">#&gt; pred[Etanercept 50 mg, PASI90] 0.23 0.04 0.16 0.20 0.23 0.26  0.31     2852     3421    1</span>
<span class="co">#&gt; pred[Fumaderm, PASI50]         0.64 0.16 0.33 0.52 0.64 0.75  0.92     3381     2273    1</span>
<span class="co">#&gt; pred[Fumaderm, PASI75]         0.37 0.17 0.11 0.24 0.35 0.47  0.76     3386     2304    1</span>
<span class="co">#&gt; pred[Fumaderm, PASI90]         0.14 0.11 0.02 0.07 0.11 0.19  0.45     3363     2290    1</span>
<span class="co">#&gt; pred[Infliximab, PASI50]       0.88 0.05 0.76 0.85 0.89 0.92  0.96     3125     2667    1</span>
<span class="co">#&gt; pred[Infliximab, PASI75]       0.68 0.10 0.47 0.61 0.68 0.75  0.85     3130     2490    1</span>
<span class="co">#&gt; pred[Infliximab, PASI90]       0.37 0.11 0.19 0.30 0.37 0.44  0.60     3181     2258    1</span>
<span class="co">#&gt; pred[Methotrexate, PASI50]     0.68 0.15 0.36 0.57 0.69 0.79  0.92     1968     2584    1</span>
<span class="co">#&gt; pred[Methotrexate, PASI75]     0.41 0.16 0.13 0.28 0.40 0.52  0.74     1975     2563    1</span>
<span class="co">#&gt; pred[Methotrexate, PASI90]     0.17 0.11 0.03 0.08 0.14 0.22  0.43     2029     2733    1</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pred_FE_beta</span><span class="op">)</span></code></pre></div>
<p><img src="example_hta_psoriasis_files/figure-html/pso_pred_FE_beta-1.png" width="700" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pred_RE_beta</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">pso_fit_RE</span>, 
                        baseline <span class="op">=</span> <span class="fu"><a href="../reference/distr.html">distr</a></span><span class="op">(</span><span class="va">qbeta</span>, <span class="fl">56</span>, <span class="fl">408</span><span class="op">-</span><span class="fl">56</span><span class="op">)</span>,
                        baseline_type <span class="op">=</span> <span class="st">"response"</span>,
                        type <span class="op">=</span> <span class="st">"response"</span><span class="op">)</span>
<span class="va">pred_RE_beta</span>
<span class="co">#&gt;                                mean   sd 2.5%  25%  50%  75% 97.5% Bulk_ESS Tail_ESS Rhat</span>
<span class="co">#&gt; pred[Supportive care, PASI50]  0.14 0.02 0.11 0.13 0.14 0.15  0.17     9949     9570    1</span>
<span class="co">#&gt; pred[Supportive care, PASI75]  0.03 0.01 0.02 0.03 0.03 0.04  0.05    10374     9846    1</span>
<span class="co">#&gt; pred[Supportive care, PASI90]  0.00 0.00 0.00 0.00 0.00 0.00  0.01    11127     9488    1</span>
<span class="co">#&gt; pred[Ciclosporin, PASI50]      0.80 0.10 0.58 0.74 0.82 0.88  0.97     3475     2995    1</span>
<span class="co">#&gt; pred[Ciclosporin, PASI75]      0.56 0.15 0.29 0.45 0.56 0.66  0.86     3507     2853    1</span>
<span class="co">#&gt; pred[Ciclosporin, PASI90]      0.28 0.14 0.08 0.18 0.25 0.35  0.61     3552     2893    1</span>
<span class="co">#&gt; pred[Efalizumab, PASI50]       0.53 0.07 0.38 0.49 0.54 0.58  0.68     5536     4186    1</span>
<span class="co">#&gt; pred[Efalizumab, PASI75]       0.25 0.06 0.14 0.22 0.25 0.29  0.38     5595     4060    1</span>
<span class="co">#&gt; pred[Efalizumab, PASI90]       0.07 0.03 0.03 0.06 0.07 0.09  0.14     5757     4460    1</span>
<span class="co">#&gt; pred[Etanercept 25 mg, PASI50] 0.66 0.09 0.48 0.62 0.67 0.71  0.83     6341     4870    1</span>
<span class="co">#&gt; pred[Etanercept 25 mg, PASI75] 0.38 0.09 0.21 0.32 0.37 0.42  0.57     6337     4780    1</span>
<span class="co">#&gt; pred[Etanercept 25 mg, PASI90] 0.14 0.05 0.05 0.10 0.13 0.16  0.27     6453     4966    1</span>
<span class="co">#&gt; pred[Etanercept 50 mg, PASI50] 0.79 0.08 0.61 0.75 0.80 0.83  0.92     5859     3843    1</span>
<span class="co">#&gt; pred[Etanercept 50 mg, PASI75] 0.53 0.10 0.31 0.47 0.53 0.59  0.73     5874     3952    1</span>
<span class="co">#&gt; pred[Etanercept 50 mg, PASI90] 0.24 0.08 0.10 0.19 0.23 0.28  0.43     5930     4090    1</span>
<span class="co">#&gt; pred[Fumaderm, PASI50]         0.63 0.20 0.22 0.49 0.64 0.78  0.96     7664     5223    1</span>
<span class="co">#&gt; pred[Fumaderm, PASI75]         0.38 0.20 0.06 0.22 0.35 0.51  0.84     7676     5320    1</span>
<span class="co">#&gt; pred[Fumaderm, PASI90]         0.16 0.15 0.01 0.06 0.12 0.21  0.57     7685     5317    1</span>
<span class="co">#&gt; pred[Infliximab, PASI50]       0.87 0.08 0.68 0.84 0.89 0.93  0.97     8232     5503    1</span>
<span class="co">#&gt; pred[Infliximab, PASI75]       0.67 0.13 0.38 0.59 0.68 0.76  0.89     8235     5553    1</span>
<span class="co">#&gt; pred[Infliximab, PASI90]       0.37 0.13 0.13 0.28 0.37 0.46  0.65     8225     5483    1</span>
<span class="co">#&gt; pred[Methotrexate, PASI50]     0.70 0.18 0.30 0.59 0.72 0.84  0.98     4630     3075    1</span>
<span class="co">#&gt; pred[Methotrexate, PASI75]     0.45 0.21 0.10 0.30 0.44 0.59  0.89     4633     3119    1</span>
<span class="co">#&gt; pred[Methotrexate, PASI90]     0.21 0.17 0.02 0.09 0.17 0.28  0.65     4660     3078    1</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pred_RE_beta</span><span class="op">)</span></code></pre></div>
<p><img src="example_hta_psoriasis_files/figure-html/pso_pred_RE_beta-1.png" width="700" style="display: block; margin: auto;"> (Notice that these results are equivalent to those calculated above using the Normal distribution for the baseline probit probability, since these event counts correspond to the same probit probability.)</p>
<p>We can modify the plots using standard <code>ggplot2</code> functions. For example, to plot the cutpoints together with a colour coding (instead of split into facets):</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pred_RE</span>, position <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_dodge.html" class="external-link">position_dodge</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.75</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_null.html" class="external-link">facet_null</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="va">Category</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html" class="external-link">scale_colour_brewer</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Blues"</span><span class="op">)</span></code></pre></div>
<p><img src="example_hta_psoriasis_files/figure-html/pso_pred_RE_colour-1.png" width="700" style="display: block; margin: auto;"></p>
<p>If the <code>baseline</code> argument is omitted, predicted probabilities will be produced for every study in the network based on their estimated baseline probit probability <span class="math inline">\(\mu_j\)</span>.</p>
</div>
<div class="section level3">
<h3 id="ranks-and-rank-probabilities">Ranks and rank probabilities<a class="anchor" aria-label="anchor" href="#ranks-and-rank-probabilities"></a>
</h3>
<p>Treatment rankings, rank probabilities, and cumulative rank probabilities can also be produced. We set <code>lower_better = FALSE</code> since higher outcome categories are better (the outcomes are positive).</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">pso_ranks</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/posterior_ranks.html">posterior_ranks</a></span><span class="op">(</span><span class="va">pso_fit_RE</span>, lower_better <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;                        mean   sd 2.5% 25% 50% 75% 97.5% Bulk_ESS Tail_ESS Rhat</span>
<span class="co">#&gt; rank[Supportive care]  7.99 0.11    8   8   8   8     8     5568       NA    1</span>
<span class="co">#&gt; rank[Ciclosporin]      2.76 1.24    1   2   3   4     5     6630     7010    1</span>
<span class="co">#&gt; rank[Efalizumab]       6.38 0.78    5   6   7   7     7     6227     4559    1</span>
<span class="co">#&gt; rank[Etanercept 25 mg] 4.95 1.06    3   4   5   6     7     6534     6111    1</span>
<span class="co">#&gt; rank[Etanercept 50 mg] 3.07 1.18    1   2   3   4     5     5088     4151    1</span>
<span class="co">#&gt; rank[Fumaderm]         4.87 1.97    1   3   5   7     7     7579     5810    1</span>
<span class="co">#&gt; rank[Infliximab]       1.78 1.16    1   1   1   2     5     3594     4631    1</span>
<span class="co">#&gt; rank[Methotrexate]     4.20 1.86    1   3   4   6     7     5918     5948    1</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pso_ranks</span><span class="op">)</span></code></pre></div>
<p><img src="example_hta_psoriasis_files/figure-html/hta_psoriasis_ranks-1.png" width="700" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">pso_rankprobs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/posterior_ranks.html">posterior_rank_probs</a></span><span class="op">(</span><span class="va">pso_fit_RE</span>, lower_better <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;                     p_rank[1] p_rank[2] p_rank[3] p_rank[4] p_rank[5] p_rank[6] p_rank[7]</span>
<span class="co">#&gt; d[Supportive care]       0.00      0.00      0.00      0.00      0.00      0.00      0.01</span>
<span class="co">#&gt; d[Ciclosporin]           0.16      0.30      0.28      0.17      0.08      0.02      0.00</span>
<span class="co">#&gt; d[Efalizumab]            0.00      0.00      0.01      0.02      0.09      0.35      0.53</span>
<span class="co">#&gt; d[Etanercept 25 mg]      0.00      0.01      0.08      0.21      0.38      0.27      0.04</span>
<span class="co">#&gt; d[Etanercept 50 mg]      0.07      0.29      0.28      0.25      0.09      0.02      0.00</span>
<span class="co">#&gt; d[Fumaderm]              0.08      0.08      0.09      0.11      0.16      0.19      0.27</span>
<span class="co">#&gt; d[Infliximab]            0.59      0.19      0.12      0.06      0.03      0.01      0.00</span>
<span class="co">#&gt; d[Methotrexate]          0.10      0.12      0.15      0.18      0.17      0.14      0.14</span>
<span class="co">#&gt;                     p_rank[8]</span>
<span class="co">#&gt; d[Supportive care]       0.99</span>
<span class="co">#&gt; d[Ciclosporin]           0.00</span>
<span class="co">#&gt; d[Efalizumab]            0.00</span>
<span class="co">#&gt; d[Etanercept 25 mg]      0.00</span>
<span class="co">#&gt; d[Etanercept 50 mg]      0.00</span>
<span class="co">#&gt; d[Fumaderm]              0.01</span>
<span class="co">#&gt; d[Infliximab]            0.00</span>
<span class="co">#&gt; d[Methotrexate]          0.00</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pso_rankprobs</span><span class="op">)</span></code></pre></div>
<p><img src="example_hta_psoriasis_files/figure-html/hta_psoriasis_rankprobs-1.png" width="700" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">pso_cumrankprobs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/posterior_ranks.html">posterior_rank_probs</a></span><span class="op">(</span><span class="va">pso_fit_RE</span>, lower_better <span class="op">=</span> <span class="cn">FALSE</span>, cumulative <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;                     p_rank[1] p_rank[2] p_rank[3] p_rank[4] p_rank[5] p_rank[6] p_rank[7]</span>
<span class="co">#&gt; d[Supportive care]       0.00      0.00      0.00      0.00      0.00      0.00      0.01</span>
<span class="co">#&gt; d[Ciclosporin]           0.16      0.46      0.74      0.90      0.98      1.00      1.00</span>
<span class="co">#&gt; d[Efalizumab]            0.00      0.00      0.01      0.02      0.12      0.47      1.00</span>
<span class="co">#&gt; d[Etanercept 25 mg]      0.00      0.02      0.09      0.30      0.68      0.96      1.00</span>
<span class="co">#&gt; d[Etanercept 50 mg]      0.07      0.36      0.64      0.89      0.98      1.00      1.00</span>
<span class="co">#&gt; d[Fumaderm]              0.08      0.17      0.26      0.37      0.53      0.72      0.99</span>
<span class="co">#&gt; d[Infliximab]            0.59      0.78      0.90      0.96      0.99      1.00      1.00</span>
<span class="co">#&gt; d[Methotrexate]          0.10      0.22      0.36      0.54      0.72      0.86      1.00</span>
<span class="co">#&gt;                     p_rank[8]</span>
<span class="co">#&gt; d[Supportive care]          1</span>
<span class="co">#&gt; d[Ciclosporin]              1</span>
<span class="co">#&gt; d[Efalizumab]               1</span>
<span class="co">#&gt; d[Etanercept 25 mg]         1</span>
<span class="co">#&gt; d[Etanercept 50 mg]         1</span>
<span class="co">#&gt; d[Fumaderm]                 1</span>
<span class="co">#&gt; d[Infliximab]               1</span>
<span class="co">#&gt; d[Methotrexate]             1</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pso_cumrankprobs</span><span class="op">)</span></code></pre></div>
<p><img src="example_hta_psoriasis_files/figure-html/hta_psoriasis_cumrankprobs-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-TSD2" class="csl-entry">
Dias, S., N. J. Welton, A. J. Sutton, and A. E. Ades. 2011. <span>“<span>NICE DSU Technical Support Document</span> 2: A Generalised Linear Modelling Framework for Pair-Wise and Network Meta-Analysis of Randomised Controlled Trials.”</span> <span>National Institute for Health and Care Excellence</span>. <a href="http://nicedsu.org.uk/" class="external-link">http://nicedsu.org.uk/</a>.
</div>
<div id="ref-Woolacott2006" class="csl-entry">
Woolacott, N., N. Hawkins, A. Mason, A. Kainth, Z. Khadjesari, Y. Bravo Vergel, K. Misso, et al. 2006. <span>“Etanercept and Efalizumab for the Treatment of Psoriasis: A Systematic Review.”</span> <em>Health Technology Assessment</em> 10 (46). <a href="https://doi.org/10.3310/hta10460" class="external-link">https://doi.org/10.3310/hta10460</a>.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by David M. Phillippo.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
