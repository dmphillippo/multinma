% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/nma_data.R
\name{set_agd_regression}
\alias{set_agd_regression}
\title{Set up data reported from regression models}
\usage{
set_agd_regression(
  data,
  study,
  trt,
  estimate,
  se,
  cor,
  cov,
  regression,
  covariates = NULL,
  trt_ref = NULL,
  trt_class = NULL,
  sample_size = NULL
)
}
\arguments{
\item{data}{A data frame. In addition to columns for study, treatment, and
the regression estimates and their standard errors, \code{data} should also
contain columns corresponding to the covariates in the regression model.
The covariate columns should either be set to level to which
the estimate corresponds, or to \code{NA} if the covariate is not present in
this term. An additional row with \code{estimate=NA} defines the reference
treatment and reference levels of the covariates in each study.}

\item{study}{column of \code{data} specifying the studies, coded using integers,
strings, or factors}

\item{trt}{column of \code{data} specifying treatments, coded using integers,
strings, or factors}

\item{estimate}{Column of \code{data} containing regression coefficient estimates}

\item{se}{Column of \code{data} containing regression coefficient standard errors.
Currently either \code{se} and \code{cor}, or \code{cov} must be specified.}

\item{cor}{Named list of correlation matrices for the regression coefficients
in each study. Currently either \code{se} and \code{cor}, or \code{cov} must be specified.}

\item{cov}{Named list of covariance matrices for the regression coefficients
in each study. Currently either \code{se} and \code{cor}, or \code{cov} must be specified.}

\item{regression}{Regression formula. Currently this must be a single formula
which all studies have estimated, and must then match the regression model
specified when fitting the model with \code{nma()}. Specify terms involving
treatment with the \code{.trt} special.}

\item{covariates}{\strong{NOT USED YET} data frame of covariate summary statistics
for each study or study arm, with corresponding \code{study} and \code{trt} columns
to match to those in \code{data}}

\item{trt_ref}{reference treatment for the network, as a single integer,
string, or factor. If not specified, a reasonable well-connected default
will be chosen (see details).}

\item{trt_class}{column of \code{data} specifying treatment classes, coded using
integers, strings, or factors. By default, no classes are specified.}

\item{sample_size}{\strong{NOT USED YET} column of \code{covariates} giving the sample
size in each arm (optional).}
}
\value{
An object of class \link{nma_data}
}
\description{
Set up a network containing data reported from regression models. These are
in the form of regression coefficients, their standard errors, and
covariance/correlation matrices. Data are specified in \emph{long} format, with
one row per coefficient estimate. Multiple data sources may be combined once
created using \code{\link[=combine_network]{combine_network()}}.
}
\details{
By default, \code{trt_ref = NULL} and a network reference treatment will be chosen
that attempts to maximise computational efficiency and stability. If an
alternative reference treatment is chosen and the model runs slowly or has
low effective sample size (ESS) this may be the cause - try letting the
default reference treatment be used instead. Regardless of which treatment is
used as the network reference at the model fitting stage, results can be
transformed afterwards: see the \code{trt_ref} argument of
\code{\link[=relative_effects]{relative_effects()}} and \code{\link[=predict.stan_nma]{predict.stan_nma()}}.

All arguments specifying columns of \code{data} accept the following:
\itemize{
\item A column name as a character string, e.g. \code{study = "studyc"}
\item A bare column name, e.g. \code{study = studyc}
\item \code{dplyr::mutate()} style semantics for inline variable transformations, e.g. \code{study = paste(author, year)}
}
}
\seealso{
\code{\link[=set_ipd]{set_ipd()}} for individual patient data, \code{\link[=set_agd_arm]{set_agd_arm()}} and
\code{\link[=set_agd_contrast]{set_agd_contrast()}} for arm- and contrast-based aggregate data, and
\code{\link[=combine_network]{combine_network()}} for combining several data sources in one network.

\code{\link[=print.nma_data]{print.nma_data()}} for the print method displaying details of the
network, and \code{\link[=plot.nma_data]{plot.nma_data()}} for network plots.
}
