<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Example: White blood cell transfusion</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">

div.csl-bib-body { }
div.csl-entry {
clear: both;
margin-bottom: 0em;
}
.hanging div.csl-entry {
margin-left:2em;
text-indent:-2em;
}
div.csl-left-margin {
min-width:2em;
float:left;
}
div.csl-right-inline {
margin-left:2em;
padding-left:1em;
}
div.csl-indent {
margin-left: 2em;
}
</style>

<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Example: White blood cell transfusion</h1>



<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(multinma)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">options</span>(<span class="at">mc.cores =</span> parallel<span class="sc">::</span><span class="fu">detectCores</span>())</span></code></pre></div>
<p>This vignette describes the analysis of 6 trials comparing
transfusion of granulocytes (white blood cells) to control for
preventing mortality in patients with neutropenia or neutrophil
dysfunction <span class="citation">(<a href="#ref-Stanworth2005">Stanworth et al. 2005</a>; <a href="#ref-Turner2012">Turner et al. 2012</a>)</span>. The data are
available in this package as <code>transfusion</code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">head</span>(transfusion)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="co">#&gt;        studyc        trtc  r  n</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="co">#&gt; 1    Bow 1984 Transfusion  5 13</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="co">#&gt; 2    Bow 1984     Control  4 11</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="co">#&gt; 3 Herzig 1977 Transfusion  1 13</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="co">#&gt; 4 Herzig 1977     Control  3 14</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="co">#&gt; 5  Higby 1975 Transfusion  2 17</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="co">#&gt; 6  Higby 1975     Control 14 19</span></span></code></pre></div>
<p><span class="citation">Turner et al. (<a href="#ref-Turner2012">2012</a>)</span> previously used this dataset to
demonstrate the application of informative priors for heterogeneity, an
analysis which we recreate here.</p>
<div id="setting-up-the-network" class="section level2">
<h2>Setting up the network</h2>
<p>We begin by setting up the network - here just a pairwise
meta-analysis. We have arm-level count data giving the number of deaths
(<code>r</code>) out of the total (<code>n</code>) in each arm, so we
use the function <code>set_agd_arm()</code>. We set “Control” as the
reference treatment.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>tr_net <span class="ot">&lt;-</span> <span class="fu">set_agd_arm</span>(transfusion, </span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>                           <span class="at">study =</span> studyc,</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>                           <span class="at">trt =</span> trtc,</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>                           <span class="at">r =</span> r, </span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>                           <span class="at">n =</span> n,</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>                           <span class="at">trt_ref =</span> <span class="st">&quot;Control&quot;</span>)</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>tr_net</span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="co">#&gt; A network with 6 AgD studies (arm-based).</span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a><span class="co">#&gt; ------------------------------------------------------- AgD studies (arm-based) ---- </span></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a><span class="co">#&gt;  Study         Treatment arms          </span></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a><span class="co">#&gt;  Bow 1984      2: Control | Transfusion</span></span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a><span class="co">#&gt;  Herzig 1977   2: Control | Transfusion</span></span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a><span class="co">#&gt;  Higby 1975    2: Control | Transfusion</span></span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a><span class="co">#&gt;  Scali 1978    2: Control | Transfusion</span></span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a><span class="co">#&gt;  Vogler 1977   2: Control | Transfusion</span></span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a><span class="co">#&gt;  Winston 1982a 2: Control | Transfusion</span></span>
<span id="cb3-18"><a href="#cb3-18" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb3-19"><a href="#cb3-19" tabindex="-1"></a><span class="co">#&gt;  Outcome type: count</span></span>
<span id="cb3-20"><a href="#cb3-20" tabindex="-1"></a><span class="co">#&gt; ------------------------------------------------------------------------------------</span></span>
<span id="cb3-21"><a href="#cb3-21" tabindex="-1"></a><span class="co">#&gt; Total number of treatments: 2</span></span>
<span id="cb3-22"><a href="#cb3-22" tabindex="-1"></a><span class="co">#&gt; Total number of studies: 6</span></span>
<span id="cb3-23"><a href="#cb3-23" tabindex="-1"></a><span class="co">#&gt; Reference treatment is: Control</span></span>
<span id="cb3-24"><a href="#cb3-24" tabindex="-1"></a><span class="co">#&gt; Network is connected</span></span></code></pre></div>
</div>
<div id="meta-analysis-models" class="section level2">
<h2>Meta-analysis models</h2>
<p>We fit two random effects models, first with a non-informative prior
for the heterogeneity, then using the informative prior described by
<span class="citation">Turner et al. (<a href="#ref-Turner2012">2012</a>)</span>.</p>
<div id="random-effects-meta-analysis-with-non-informative-heterogeneity-prior" class="section level3">
<h3>Random effects meta-analysis with non-informative heterogeneity
prior</h3>
<p>We fit a random effects model using the <code>nma()</code> function
with <code>trt_effects = &quot;random&quot;</code>. We use <span class="math inline">\(\mathrm{N}(0, 100^2)\)</span> prior distributions
for the treatment effects <span class="math inline">\(d_k\)</span> and
study-specific intercepts <span class="math inline">\(\mu_j\)</span>,
and a non-informative <span class="math inline">\(\textrm{half-N}(5^2)\)</span> prior for the
heterogeneity standard deviation <span class="math inline">\(\tau\)</span>. We can examine the range of
parameter values implied by these prior distributions with the
<code>summary()</code> method:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">normal</span>(<span class="at">scale =</span> <span class="dv">100</span>))</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="co">#&gt; A Normal prior distribution: location = 0, scale = 100.</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="co">#&gt; 50% of the prior density lies between -67.45 and 67.45.</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="co">#&gt; 95% of the prior density lies between -196 and 196.</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">half_normal</span>(<span class="at">scale =</span> <span class="dv">5</span>))</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="co">#&gt; A half-Normal prior distribution: location = 0, scale = 5.</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="co">#&gt; 50% of the prior density lies between 0 and 3.37.</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="co">#&gt; 95% of the prior density lies between 0 and 9.8.</span></span></code></pre></div>
<p>Fitting the RE model</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>tr_fit_RE_noninf <span class="ot">&lt;-</span> <span class="fu">nma</span>(tr_net, </span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>                        <span class="at">trt_effects =</span> <span class="st">&quot;random&quot;</span>,</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>                        <span class="at">prior_intercept =</span> <span class="fu">normal</span>(<span class="at">scale =</span> <span class="dv">100</span>),</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>                        <span class="at">prior_trt =</span> <span class="fu">normal</span>(<span class="at">scale =</span> <span class="dv">100</span>),</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>                        <span class="at">prior_het =</span> <span class="fu">half_normal</span>(<span class="at">scale =</span> <span class="dv">5</span>))</span></code></pre></div>
<pre><code>#&gt; Warning: There were 1 divergent transitions after warmup. See
#&gt; https://mc-stan.org/misc/warnings.html#divergent-transitions-after-warmup
#&gt; to find out why this is a problem and how to eliminate them.
#&gt; Warning: Examine the pairs() plot to diagnose sampling problems</code></pre>
<p>Basic parameter summaries are given by the <code>print()</code>
method:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>tr_fit_RE_noninf</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="co">#&gt; A random effects NMA with a binomial likelihood (logit link).</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="co">#&gt; Inference for Stan model: binomial_1par.</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="co">#&gt; 4 chains, each with iter=2000; warmup=1000; thin=1; </span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="co">#&gt; post-warmup draws per chain=1000, total post-warmup draws=4000.</span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a><span class="co">#&gt;                   mean se_mean   sd    2.5%     25%     50%     75%   97.5% n_eff Rhat</span></span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a><span class="co">#&gt; d[Transfusion]   -1.15    0.03 0.95   -3.19   -1.67   -1.12   -0.59    0.70   842 1.01</span></span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a><span class="co">#&gt; lp__           -134.46    0.10 3.24 -141.75 -136.39 -134.08 -132.10 -129.27  1026 1.00</span></span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a><span class="co">#&gt; tau               1.82    0.03 1.01    0.54    1.12    1.58    2.27    4.53  1077 1.00</span></span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a><span class="co">#&gt; Samples were drawn using NUTS(diag_e) at Mon Apr 29 16:41:16 2024.</span></span>
<span id="cb7-13"><a href="#cb7-13" tabindex="-1"></a><span class="co">#&gt; For each parameter, n_eff is a crude measure of effective sample size,</span></span>
<span id="cb7-14"><a href="#cb7-14" tabindex="-1"></a><span class="co">#&gt; and Rhat is the potential scale reduction factor on split chains (at </span></span>
<span id="cb7-15"><a href="#cb7-15" tabindex="-1"></a><span class="co">#&gt; convergence, Rhat=1).</span></span></code></pre></div>
<p>By default, summaries of the study-specific intercepts <span class="math inline">\(\mu_j\)</span> and study-specific relative effects
<span class="math inline">\(\delta_{jk}\)</span> are hidden, but could
be examined by changing the <code>pars</code> argument:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co"># Not run</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="fu">print</span>(tr_fit_RE_noninf, <span class="at">pars =</span> <span class="fu">c</span>(<span class="st">&quot;d&quot;</span>, <span class="st">&quot;mu&quot;</span>, <span class="st">&quot;delta&quot;</span>))</span></code></pre></div>
<p>The prior and posterior distributions can be compared visually using
the <code>plot_prior_posterior()</code> function:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="fu">plot_prior_posterior</span>(tr_fit_RE_noninf, <span class="at">prior =</span> <span class="st">&quot;het&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>The posterior distribution for the heterogeneity variance <span class="math inline">\(\tau^2\)</span> is summarised by</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>noninf_tau <span class="ot">&lt;-</span> <span class="fu">as.array</span>(tr_fit_RE_noninf, <span class="at">pars =</span> <span class="st">&quot;tau&quot;</span>)</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>noninf_tausq <span class="ot">&lt;-</span> noninf_tau<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a><span class="fu">names</span>(noninf_tausq) <span class="ot">&lt;-</span> <span class="st">&quot;tausq&quot;</span></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a><span class="fu">summary</span>(noninf_tausq)</span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a><span class="co">#&gt;       mean   sd 2.5%  25%  50%  75% 97.5% Bulk_ESS Tail_ESS Rhat</span></span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a><span class="co">#&gt; tausq 4.32 5.54 0.29 1.25 2.49 5.14  20.5     1227     1381    1</span></span></code></pre></div>
</div>
<div id="random-effects-meta-analysis-with-informative-heterogeneity-prior" class="section level3">
<h3>Random effects meta-analysis with informative heterogeneity
prior</h3>
<p>Keeping the rest of the model setup the same, we now use an
informative <span class="math inline">\(\textrm{log-N}(-3.93,
1.51^2)\)</span> prior for the heterogeneity variance <span class="math inline">\(\tau^2\)</span>. We can examine the range of
parameter values implied by this prior distribution with the
<code>summary()</code> method:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">log_normal</span>(<span class="sc">-</span><span class="fl">3.93</span>, <span class="fl">1.51</span>))</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="co">#&gt; A log-Normal prior distribution: location = -3.93, scale = 1.51.</span></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a><span class="co">#&gt; 50% of the prior density lies between 0.01 and 0.05.</span></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a><span class="co">#&gt; 95% of the prior density lies between 0 and 0.38.</span></span></code></pre></div>
<p>Fitting the RE model, we specify the <code>log_normal</code> prior
distribution in the <code>prior_het</code> argument, and set
<code>prior_het_type = &quot;var&quot;</code> to indicate that this prior
distribution is on the variance scale (instead of the standard
deviation, the default).</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>tr_fit_RE_inf <span class="ot">&lt;-</span> <span class="fu">nma</span>(tr_net, </span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>                     <span class="at">trt_effects =</span> <span class="st">&quot;random&quot;</span>,</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>                     <span class="at">prior_intercept =</span> <span class="fu">normal</span>(<span class="at">scale =</span> <span class="dv">100</span>),</span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>                     <span class="at">prior_trt =</span> <span class="fu">normal</span>(<span class="at">scale =</span> <span class="dv">100</span>),</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>                     <span class="at">prior_het =</span> <span class="fu">log_normal</span>(<span class="sc">-</span><span class="fl">3.93</span>, <span class="fl">1.51</span>),</span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a>                     <span class="at">prior_het_type =</span> <span class="st">&quot;var&quot;</span>)</span></code></pre></div>
<p>Basic parameter summaries are given by the <code>print()</code>
method:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>tr_fit_RE_inf</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="co">#&gt; A random effects NMA with a binomial likelihood (logit link).</span></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a><span class="co">#&gt; Inference for Stan model: binomial_1par.</span></span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a><span class="co">#&gt; 4 chains, each with iter=2000; warmup=1000; thin=1; </span></span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a><span class="co">#&gt; post-warmup draws per chain=1000, total post-warmup draws=4000.</span></span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a><span class="co">#&gt;                   mean se_mean   sd    2.5%     25%     50%     75%   97.5% n_eff Rhat</span></span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a><span class="co">#&gt; d[Transfusion]   -0.77    0.01 0.44   -1.71   -1.03   -0.75   -0.48    0.01  1938    1</span></span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a><span class="co">#&gt; lp__           -141.03    0.07 2.83 -147.30 -142.71 -140.74 -138.97 -136.43  1454    1</span></span>
<span id="cb13-10"><a href="#cb13-10" tabindex="-1"></a><span class="co">#&gt; tau               0.49    0.01 0.36    0.05    0.21    0.43    0.70    1.36  1389    1</span></span>
<span id="cb13-11"><a href="#cb13-11" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb13-12"><a href="#cb13-12" tabindex="-1"></a><span class="co">#&gt; Samples were drawn using NUTS(diag_e) at Mon Apr 29 16:41:26 2024.</span></span>
<span id="cb13-13"><a href="#cb13-13" tabindex="-1"></a><span class="co">#&gt; For each parameter, n_eff is a crude measure of effective sample size,</span></span>
<span id="cb13-14"><a href="#cb13-14" tabindex="-1"></a><span class="co">#&gt; and Rhat is the potential scale reduction factor on split chains (at </span></span>
<span id="cb13-15"><a href="#cb13-15" tabindex="-1"></a><span class="co">#&gt; convergence, Rhat=1).</span></span></code></pre></div>
<p>By default, summaries of the study-specific intercepts <span class="math inline">\(\mu_j\)</span> and study-specific relative effects
<span class="math inline">\(\delta_{jk}\)</span> are hidden, but could
be examined by changing the <code>pars</code> argument:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="co"># Not run</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="fu">print</span>(tr_fit_RE_inf, <span class="at">pars =</span> <span class="fu">c</span>(<span class="st">&quot;d&quot;</span>, <span class="st">&quot;mu&quot;</span>, <span class="st">&quot;delta&quot;</span>))</span></code></pre></div>
<p>The prior and posterior distributions can be compared visually using
the <code>plot_prior_posterior()</code> function:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="fu">plot_prior_posterior</span>(tr_fit_RE_inf, <span class="at">prior =</span> <span class="st">&quot;het&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<blockquote>
<p><strong>Note:</strong> The heterogeneity <em>variance</em> <span class="math inline">\(\tau^2\)</span> is plotted here since the prior
was specified on <span class="math inline">\(\tau^2\)</span>.</p>
</blockquote>
<p>The posterior distribution for the heterogeneity variance <span class="math inline">\(\tau^2\)</span> is summarised by</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a>inf_tau <span class="ot">&lt;-</span> <span class="fu">as.array</span>(tr_fit_RE_inf, <span class="at">pars =</span> <span class="st">&quot;tau&quot;</span>)</span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a>inf_tausq <span class="ot">&lt;-</span> inf_tau<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a><span class="fu">names</span>(inf_tausq) <span class="ot">&lt;-</span> <span class="st">&quot;tausq&quot;</span></span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a><span class="fu">summary</span>(inf_tausq)</span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a><span class="co">#&gt;       mean   sd 2.5%  25%  50%  75% 97.5% Bulk_ESS Tail_ESS Rhat</span></span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a><span class="co">#&gt; tausq 0.37 0.54    0 0.04 0.18 0.49  1.84     1275     2376    1</span></span></code></pre></div>
</div>
</div>
<div id="references" class="section level2 unnumbered">
<h2 class="unnumbered">References</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-Stanworth2005" class="csl-entry">
Stanworth, S., E. Massey, C. Hyde, S. J. Brunskill, C. Navarette, G.
Lucas, D. Marks, and U. Paulus. 2005. <span>“Granulocyte Transfusions
for Treating Infections in Patients with Neutropenia or Neutrophil
Dysfunction.”</span> <em>Cochrane Database of Systematic Reviews</em>,
no. 3. <a href="https://doi.org/10.1002/14651858.CD005339">https://doi.org/10.1002/14651858.CD005339</a>.
</div>
<div id="ref-Turner2012" class="csl-entry">
Turner, R. M., J. Davey, M. J. Clarke, S. G. Thompson, and J. P. T.
Higgins. 2012. <span>“Predicting the Extent of Heterogeneity in
Meta-Analysis, Using Empirical Data from the Cochrane Database of
Systematic Reviews.”</span> <em>International Journal of
Epidemiology</em> 41 (3): 818–27. <a href="https://doi.org/10.1093/ije/dys041">https://doi.org/10.1093/ije/dys041</a>.
</div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
