<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Example: White blood cell transfusion</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">

div.csl-bib-body { }
div.csl-entry {
clear: both;
}
.hanging div.csl-entry {
margin-left:2em;
text-indent:-2em;
}
div.csl-left-margin {
min-width:2em;
float:left;
}
div.csl-right-inline {
margin-left:2em;
padding-left:1em;
}
div.csl-indent {
margin-left: 2em;
}
</style>

<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Example: White blood cell transfusion</h1>



<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(multinma)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">mc.cores =</span> parallel<span class="sc">::</span><span class="fu">detectCores</span>())</span></code></pre></div>
<p>This vignette describes the analysis of 6 trials comparing
transfusion of granulocytes (white blood cells) to control for
preventing mortality in patients with neutropenia or neutrophil
dysfunction <span class="citation">(<a href="#ref-Stanworth2005" role="doc-biblioref">Stanworth et al. 2005</a>; <a href="#ref-Turner2012" role="doc-biblioref">Turner et al.
2012</a>)</span>. The data are available in this package as
<code>transfusion</code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(transfusion)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;        studyc        trtc  r  n</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1    Bow 1984 Transfusion  5 13</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2    Bow 1984     Control  4 11</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 Herzig 1977 Transfusion  1 13</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 Herzig 1977     Control  3 14</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5  Higby 1975 Transfusion  2 17</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6  Higby 1975     Control 14 19</span></span></code></pre></div>
<p><span class="citation">Turner et al. (<a href="#ref-Turner2012" role="doc-biblioref">2012</a>)</span> previously used this dataset to
demonstrate the application of informative priors for heterogeneity, an
analysis which we recreate here.</p>
<div id="setting-up-the-network" class="section level2">
<h2>Setting up the network</h2>
<p>We begin by setting up the network - here just a pairwise
meta-analysis. We have arm-level count data giving the number of deaths
(<code>r</code>) out of the total (<code>n</code>) in each arm, so we
use the function <code>set_agd_arm()</code>. We set “Control” as the
reference treatment.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>tr_net <span class="ot">&lt;-</span> <span class="fu">set_agd_arm</span>(transfusion, </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>                           <span class="at">study =</span> studyc,</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>                           <span class="at">trt =</span> trtc,</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>                           <span class="at">r =</span> r, </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">n =</span> n,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>                           <span class="at">trt_ref =</span> <span class="st">&quot;Control&quot;</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>tr_net</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; A network with 6 AgD studies (arm-based).</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ------------------------------------------------------- AgD studies (arm-based) ---- </span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Study         Treatment arms          </span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Bow 1984      2: Control | Transfusion</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Herzig 1977   2: Control | Transfusion</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Higby 1975    2: Control | Transfusion</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Scali 1978    2: Control | Transfusion</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Vogler 1977   2: Control | Transfusion</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Winston 1982a 2: Control | Transfusion</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Outcome type: count</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ------------------------------------------------------------------------------------</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Total number of treatments: 2</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Total number of studies: 6</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Reference treatment is: Control</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Network is connected</span></span></code></pre></div>
</div>
<div id="meta-analysis-models" class="section level2">
<h2>Meta-analysis models</h2>
<p>We fit two random effects models, first with a non-informative prior
for the heterogeneity, then using the informative prior described by
<span class="citation">Turner et al. (<a href="#ref-Turner2012" role="doc-biblioref">2012</a>)</span>.</p>
<div id="random-effects-meta-analysis-with-non-informative-heterogeneity-prior" class="section level3">
<h3>Random effects meta-analysis with non-informative heterogeneity
prior</h3>
<p>We fit a random effects model using the <code>nma()</code> function
with <code>trt_effects = &quot;random&quot;</code>. We use <span class="math inline">\(\mathrm{N}(0, 100^2)\)</span> prior distributions
for the treatment effects <span class="math inline">\(d_k\)</span> and
study-specific intercepts <span class="math inline">\(\mu_j\)</span>,
and a non-informative <span class="math inline">\(\textrm{half-N}(5^2)\)</span> prior for the
heterogeneity standard deviation <span class="math inline">\(\tau\)</span>. We can examine the range of
parameter values implied by these prior distributions with the
<code>summary()</code> method:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">normal</span>(<span class="at">scale =</span> <span class="dv">100</span>))</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; A Normal prior distribution: location = 0, scale = 100.</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 50% of the prior density lies between -67.45 and 67.45.</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 95% of the prior density lies between -196 and 196.</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">half_normal</span>(<span class="at">scale =</span> <span class="dv">5</span>))</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; A half-Normal prior distribution: location = 0, scale = 5.</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 50% of the prior density lies between 0 and 3.37.</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 95% of the prior density lies between 0 and 9.8.</span></span></code></pre></div>
<p>Fitting the RE model</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>tr_fit_RE_noninf <span class="ot">&lt;-</span> <span class="fu">nma</span>(tr_net, </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">trt_effects =</span> <span class="st">&quot;random&quot;</span>,</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">prior_intercept =</span> <span class="fu">normal</span>(<span class="at">scale =</span> <span class="dv">100</span>),</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>                        <span class="at">prior_trt =</span> <span class="fu">normal</span>(<span class="at">scale =</span> <span class="dv">100</span>),</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>                        <span class="at">prior_het =</span> <span class="fu">half_normal</span>(<span class="at">scale =</span> <span class="dv">5</span>))</span></code></pre></div>
<pre><code>#&gt; Warning: There were 2 divergent transitions after warmup. See
#&gt; https://mc-stan.org/misc/warnings.html#divergent-transitions-after-warmup
#&gt; to find out why this is a problem and how to eliminate them.
#&gt; Warning: Examine the pairs() plot to diagnose sampling problems</code></pre>
<p>Basic parameter summaries are given by the <code>print()</code>
method:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>tr_fit_RE_noninf</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; A random effects NMA with a binomial likelihood (logit link).</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Inference for Stan model: binomial_1par.</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 chains, each with iter=2000; warmup=1000; thin=1; </span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; post-warmup draws per chain=1000, total post-warmup draws=4000.</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                   mean se_mean   sd    2.5%     25%     50%     75%   97.5% n_eff Rhat</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; d[Transfusion]   -1.24    0.05 1.15   -3.96   -1.72   -1.11   -0.58    0.65   484 1.01</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; lp__           -134.31    0.09 3.06 -141.16 -136.14 -133.93 -132.12 -129.34  1231 1.00</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; tau               1.93    0.03 1.09    0.56    1.19    1.66    2.41    4.81  1035 1.00</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Samples were drawn using NUTS(diag_e) at Tue May 23 11:38:41 2023.</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; For each parameter, n_eff is a crude measure of effective sample size,</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; and Rhat is the potential scale reduction factor on split chains (at </span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; convergence, Rhat=1).</span></span></code></pre></div>
<p>By default, summaries of the study-specific intercepts <span class="math inline">\(\mu_j\)</span> and study-specific relative effects
<span class="math inline">\(\delta_{jk}\)</span> are hidden, but could
be examined by changing the <code>pars</code> argument:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Not run</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(tr_fit_RE_noninf, <span class="at">pars =</span> <span class="fu">c</span>(<span class="st">&quot;d&quot;</span>, <span class="st">&quot;mu&quot;</span>, <span class="st">&quot;delta&quot;</span>))</span></code></pre></div>
<p>The prior and posterior distributions can be compared visually using
the <code>plot_prior_posterior()</code> function:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_prior_posterior</span>(tr_fit_RE_noninf, <span class="at">prior =</span> <span class="st">&quot;het&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>The posterior distribution for the heterogeneity variance <span class="math inline">\(\tau^2\)</span> is summarised by</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>noninf_tau <span class="ot">&lt;-</span> <span class="fu">as.array</span>(tr_fit_RE_noninf, <span class="at">pars =</span> <span class="st">&quot;tau&quot;</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>noninf_tausq <span class="ot">&lt;-</span> noninf_tau<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(noninf_tausq) <span class="ot">&lt;-</span> <span class="st">&quot;tausq&quot;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(noninf_tausq)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       mean   sd 2.5%  25%  50%  75% 97.5% Bulk_ESS Tail_ESS Rhat</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; tausq 4.93 6.61 0.32 1.43 2.77 5.81 23.09     1286      834    1</span></span></code></pre></div>
</div>
<div id="random-effects-meta-analysis-with-informative-heterogeneity-prior" class="section level3">
<h3>Random effects meta-analysis with informative heterogeneity
prior</h3>
<p>Keeping the rest of the model setup the same, we now use an
informative <span class="math inline">\(\textrm{log-N}(-3.93,
1.51^2)\)</span> prior for the heterogeneity variance <span class="math inline">\(\tau^2\)</span>. We can examine the range of
parameter values implied by this prior distribution with the
<code>summary()</code> method:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">log_normal</span>(<span class="sc">-</span><span class="fl">3.93</span>, <span class="fl">1.51</span>))</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; A log-Normal prior distribution: location = -3.93, scale = 1.51.</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 50% of the prior density lies between 0.01 and 0.05.</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 95% of the prior density lies between 0 and 0.38.</span></span></code></pre></div>
<p>Fitting the RE model, we specify the <code>log_normal</code> prior
distribution in the <code>prior_het</code> argument, and set
<code>prior_het_type = &quot;var&quot;</code> to indicate that this prior
distribution is on the variance scale (instead of the standard
deviation, the default).</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>tr_fit_RE_inf <span class="ot">&lt;-</span> <span class="fu">nma</span>(tr_net, </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>                     <span class="at">trt_effects =</span> <span class="st">&quot;random&quot;</span>,</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">prior_intercept =</span> <span class="fu">normal</span>(<span class="at">scale =</span> <span class="dv">100</span>),</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">prior_trt =</span> <span class="fu">normal</span>(<span class="at">scale =</span> <span class="dv">100</span>),</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">prior_het =</span> <span class="fu">log_normal</span>(<span class="sc">-</span><span class="fl">3.93</span>, <span class="fl">1.51</span>),</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">prior_het_type =</span> <span class="st">&quot;var&quot;</span>)</span></code></pre></div>
<p>Basic parameter summaries are given by the <code>print()</code>
method:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>tr_fit_RE_inf</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; A random effects NMA with a binomial likelihood (logit link).</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Inference for Stan model: binomial_1par.</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 chains, each with iter=2000; warmup=1000; thin=1; </span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; post-warmup draws per chain=1000, total post-warmup draws=4000.</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                   mean se_mean   sd    2.5%     25%     50%     75%   97.5% n_eff Rhat</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; d[Transfusion]   -0.77    0.01 0.44   -1.75   -1.02   -0.74   -0.48    0.00  1817    1</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; lp__           -141.10    0.07 2.80 -147.30 -142.85 -140.80 -139.08 -136.60  1454    1</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; tau               0.49    0.01 0.35    0.05    0.21    0.43    0.68    1.34  1264    1</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Samples were drawn using NUTS(diag_e) at Tue May 23 11:38:53 2023.</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; For each parameter, n_eff is a crude measure of effective sample size,</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; and Rhat is the potential scale reduction factor on split chains (at </span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; convergence, Rhat=1).</span></span></code></pre></div>
<p>By default, summaries of the study-specific intercepts <span class="math inline">\(\mu_j\)</span> and study-specific relative effects
<span class="math inline">\(\delta_{jk}\)</span> are hidden, but could
be examined by changing the <code>pars</code> argument:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Not run</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(tr_fit_RE_inf, <span class="at">pars =</span> <span class="fu">c</span>(<span class="st">&quot;d&quot;</span>, <span class="st">&quot;mu&quot;</span>, <span class="st">&quot;delta&quot;</span>))</span></code></pre></div>
<p>The prior and posterior distributions can be compared visually using
the <code>plot_prior_posterior()</code> function:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_prior_posterior</span>(tr_fit_RE_inf, <span class="at">prior =</span> <span class="st">&quot;het&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<blockquote>
<p><strong>Note:</strong> The heterogeneity <em>variance</em> <span class="math inline">\(\tau^2\)</span> is plotted here since the prior
was specified on <span class="math inline">\(\tau^2\)</span>.</p>
</blockquote>
<p>The posterior distribution for the heterogeneity variance <span class="math inline">\(\tau^2\)</span> is summarised by</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>inf_tau <span class="ot">&lt;-</span> <span class="fu">as.array</span>(tr_fit_RE_inf, <span class="at">pars =</span> <span class="st">&quot;tau&quot;</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>inf_tausq <span class="ot">&lt;-</span> inf_tau<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(inf_tausq) <span class="ot">&lt;-</span> <span class="st">&quot;tausq&quot;</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(inf_tausq)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       mean   sd 2.5%  25%  50%  75% 97.5% Bulk_ESS Tail_ESS Rhat</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; tausq 0.36 0.51    0 0.04 0.18 0.47  1.79     1187     2369    1</span></span></code></pre></div>
</div>
</div>
<div id="references" class="section level2 unnumbered">
<h2 class="unnumbered">References</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-Stanworth2005" class="csl-entry">
Stanworth, S., E. Massey, C. Hyde, S. J. Brunskill, C. Navarette, G.
Lucas, D. Marks, and U. Paulus. 2005. <span>“Granulocyte Transfusions
for Treating Infections in Patients with Neutropenia or Neutrophil
Dysfunction.”</span> <em>Cochrane Database of Systematic Reviews</em>,
no. 3. <a href="https://doi.org/10.1002/14651858.CD005339">https://doi.org/10.1002/14651858.CD005339</a>.
</div>
<div id="ref-Turner2012" class="csl-entry">
Turner, R. M., J. Davey, M. J. Clarke, S. G. Thompson, and J. P. T.
Higgins. 2012. <span>“Predicting the Extent of Heterogeneity in
Meta-Analysis, Using Empirical Data from the Cochrane Database of
Systematic Reviews.”</span> <em>International Journal of
Epidemiology</em> 41 (3): 818–27. <a href="https://doi.org/10.1093/ije/dys041">https://doi.org/10.1093/ije/dys041</a>.
</div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
